<!-- @Author Princewill Ibe -->
<app-navbar></app-navbar>
<div class="container" (window:resize)="refreshChart2()">
  <div>
    <title class="text-center text-primary">Batch List</title>
  </div>
  <div class="row table-row">
    <div class="col-sm-12 col-md-4 mcolumn left">
      <h3>All Batches</h3>
      <div class="well">
          <table class="table table-striped table-hover table-bordered">
            <thead>
            <tr>
              <th>Batch Name</th>
              <th>Start Date</th>
              <th>End Date</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let batch of batches">
              <td><a href="#!/batchDetails/{{batch.batchName}}">{{batch.batchName}}</a></td>
              <td>{{batch.startDate | date:'MM/dd/yyyy'}}</td>
              <td>{{batch.endDate| date:'MM/dd/yyyy'}}</td>
            </tr>
            </tbody>
          </table>
        </div>
    </div>
    <div class="col-sm-12 col-md-8 mcolumn right">
      <h3>Select Dates:</h3>
      <form>
        <div>
          <label for="startDate">From:</label>
          <input type="date" [(ngModel)]="startDate" id="startDate" name="startDate" [max]="endDate"/>
        </div>
        <div>
          <label for="endDate">To:</label>
          <input type="date" [(ngModel)]="endDate" id="endDate" name="startDate" [min]="startDate"/>
        </div>
        <div>
          <input type="submit" value="Submit" (click)="applySelectedRange($event)"/>
        </div>
      </form>
      <canvas baseChart *ngIf="curriculumNames && curriculumCounts"
              id="pie" class="chart chart-pie"
              [data]="curriculumCounts"
              [labels]="curriculumNames"
              [chartType]="pieChartType"
              [colors]="batchColors"
              [options]="chartOptions"
              (render)="refreshChart2()">
      </canvas>
    </div>
  </div>
</div>
